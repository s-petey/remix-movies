generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("PRISMA_DATABASE_URL")
}

model CastMembers {
  id        Int         @id @default(autoincrement())
  name      String      @unique(map: "sqlite_autoindex_CastMembers_1")
  MovieCast MovieCast[]
}

model Genres {
  id          Int           @id @default(autoincrement())
  name        String        @unique(map: "sqlite_autoindex_Genres_1")
  MovieGenres MovieGenres[]
}

model MovieCast {
  movieId     Int
  castId      Int
  CastMembers CastMembers @relation(fields: [castId], references: [id], onDelete: Cascade, onUpdate: NoAction)
  Movies      Movies      @relation(fields: [movieId], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@unique([movieId, castId])
}

model MovieGenres {
  movieId Int
  genreId Int
  Genres  Genres @relation(fields: [genreId], references: [id], onDelete: Cascade, onUpdate: NoAction)
  Movies  Movies @relation(fields: [movieId], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@unique([movieId, genreId])
}

model Movies {
  id              Int           @id @default(autoincrement())
  title           String
  year            Int?
  href            String?
  extract         String?
  thumbnail       String?
  thumbnailWidth  Int?
  thumbnailHeight Int?
  MovieCast       MovieCast[]
  MovieGenres     MovieGenres[]
}
